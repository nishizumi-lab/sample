import time
import numpy as np

# ============================================
#  比較用データの準備
#  N は処理する要素数（ここでは 1,000万）
#  大きな値にするほど速度差が分かりやすい
# ============================================
N = 10000000

# ============================================
#  Pythonリストでの処理
#  ・list(range(N)) で 0〜N-1 の整数リストを作成
#  ・リスト内包表記で各要素を2倍にする
#  ・Pythonレベルのループが走るため遅くなりやすい
# ============================================
print("=== Pythonリストでの処理 ===")
lst = list(range(N)) # 0〜N-1 の整数を順番に格納したリストを生成

start = time.time()  # 計測開始
lst_result = [x * 2 for x in lst]  # 各要素を2倍にする処理
end = time.time()    # 計測終了

print(f"処理時間: {end - start:.4f} 秒")


# ============================================
#  NumPy配列での処理
#  ・np.arange(N) で NumPy の配列を作成
#  ・arr * 2 のように「ベクトル化」された演算が可能
#  ・内部は C/Fortran で高速に処理されるため非常に速い
# ============================================
print("\n=== NumPy配列での処理 ===")
arr = np.arange(N) # # 0〜N-1 の整数を順番に格納したNumPy配列を生成

start = time.time()  # 計測開始
arr_result = arr * 2  # ベクトル化された一括処理
end = time.time()    # 計測終了

print(f"処理時間: {end - start:.4f} 秒")
